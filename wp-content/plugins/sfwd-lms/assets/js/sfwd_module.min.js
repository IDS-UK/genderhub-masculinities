function toggleVisibility(e){var s=document.getElementById(e);"block"==s.style.display?s.style.display="none":s.style.display="block"}function countChars(e,s){s.value=e.value.length}function sfwd_do_condshow_match(e,s){return"undefined"!=typeof s?(matches=!0,jQuery.each(s,function(e,s){return cur=jQuery("[name="+e+"]"),type=cur.attr("type"),"checkbox"!=type&&"radio"!=type||(cur=jQuery("input[name="+e+"]:checked")),cur=cur.val(),cur!=s?(matches=!1,!1):void 0}),matches?jQuery("#"+e).show():jQuery("#"+e).hide(),matches):!1}function sfwd_add_condshow_handlers(e,s){"undefined"!=typeof s&&jQuery.each(s,function(n){jQuery("[name="+n+"]").change(function(){sfwd_do_condshow_match(e,s)})})}function sfwd_do_condshow(){"undefined"!=typeof sfwd_data.condshow&&jQuery.each(sfwd_data.condshow,function(e,s){sfwd_do_condshow_match(e,s),sfwd_add_condshow_handlers(e,s)})}function sfwd_show_pointer(e,s){"undefined"!=typeof jQuery(s.pointer_target).pointer&&jQuery(s.pointer_target).pointer({content:s.pointer_text,close:function(){jQuery.post(ajaxurl,{pointer:e,action:"dismiss-wp-pointer"})}}).pointer("open")}function store_radio(){var e={};jQuery('input[type="radio"]').each(function(){jQuery(this).is(":checked")&&(e[jQuery(this).attr("name")]=jQuery(this).val()),jQuery(document).data("radioshack",e)})}function reclick_radio(){var e=jQuery(document).data("radioshack");for(key in e)jQuery('input[name="'+key+'"]').filter('[value="'+e[key]+'"]').trigger("click");jQuery(".wrap").unbind("mouseup")}function learndash_lesson_edit_page_javascript(){jQuery("[name='sfwd-lessons_lesson_assignment_points_enabled']").change(function(){checked=jQuery("[name=sfwd-lessons_lesson_assignment_points_enabled]:checked").length,checked?jQuery("#sfwd-lessons_lesson_assignment_points_amount").show():(jQuery("#sfwd-lessons_lesson_assignment_points_amount").hide(),jQuery("[name='sfwd-lessons_lesson_assignment_points_amount']").val("0"))}),jQuery("[name='sfwd-lessons_lesson_assignment_points_enabled']").length&&jQuery("[name='sfwd-lessons_lesson_assignment_points_enabled']").change(),jQuery("[name='sfwd-lessons_lesson_assignment_upload']").change(function(){checked=jQuery("[name=sfwd-lessons_lesson_assignment_upload]:checked").length,checked?(jQuery("#sfwd-lessons_auto_approve_assignment").show(),jQuery("#sfwd-lessons_lesson_assignment_points_enabled").show(),jQuery("[name='sfwd-lessons_lesson_assignment_points_enabled']").change()):(jQuery("#sfwd-lessons_auto_approve_assignment").hide(),jQuery("#sfwd-lessons_lesson_assignment_points_enabled").hide(),jQuery("[name='sfwd-lessons_lesson_assignment_points_enabled']").change())}),jQuery("[name='sfwd-lessons_lesson_assignment_upload']").length&&jQuery("[name='sfwd-lessons_lesson_assignment_upload']").change(),load_datepicker()}function load_datepicker(){jQuery(document).on("DOMNodeInserted",function(e){"ui-datepicker-div"==e.target.id&&jQuery("#ui-datepicker-div").addClass("learndash-datepicker")}),jQuery("input[name='sfwd-lessons_visible_after_specific_date']").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"MM d, yy",onSelect:function(){jQuery("input[name='sfwd-lessons_visible_after']").val("0"),jQuery("input[name='sfwd-lessons_visible_after']").prop("disabled",!0)}}),jQuery("input[name='sfwd-lessons_visible_after_specific_date']").blur(function(){var e=jQuery("input[name='sfwd-lessons_visible_after_specific_date']").val();""!=e?(jQuery("input[name='sfwd-lessons_visible_after']").val("0"),jQuery("input[name='sfwd-lessons_visible_after']").attr("disabled","disabled")):jQuery("input[name='sfwd-lessons_visible_after']").removeAttr("disabled")}),jQuery("input[name='sfwd-lessons_visible_after']").click(function(){var e=jQuery("input[name='sfwd-lessons_visible_after_specific_date']").val();""!=e?(jQuery("input[name='sfwd-lessons_visible_after']").val("0"),jQuery("input[name='sfwd-lessons_visible_after']").attr("disabled","disabled")):jQuery("input[name='sfwd-lessons_visible_after']").removeAttr("disabled")})}function learndash_course_edit_page_javascript(){jQuery("select[name=sfwd-courses_course_price_type]").change(function(){var e=jQuery("select[name=sfwd-courses_course_price_type]").val();"open"==e||"free"==e?(jQuery("input[name=sfwd-courses_course_price]").val(""),jQuery("#sfwd-courses_course_price").hide()):jQuery("#sfwd-courses_course_price").show(),"closed"==e?jQuery("#sfwd-courses_custom_button_url").show():jQuery("#sfwd-courses_custom_button_url").hide(),"subscribe"==e?jQuery("#sfwd-courses_course_price_billing_cycle").show():jQuery("#sfwd-courses_course_price_billing_cycle").hide()}),jQuery("select[name=sfwd-courses_course_price_type]").change(),jQuery("input[name=sfwd-courses_expire_access]").change(function(){void 0==jQuery("input[name=sfwd-courses_expire_access]:checked").val()?(jQuery("#sfwd-courses_expire_access_days").hide(),jQuery("#sfwd-courses_expire_access_delete_progress").hide()):(jQuery("#sfwd-courses_expire_access_days").show(),jQuery("#sfwd-courses_expire_access_delete_progress").show())}),jQuery("input[name=sfwd-courses_expire_access]").change()}function learndash_quiz_edit_page_javascript(){jQuery("select[name=sfwd-quiz_quiz_pro]").change(function(){var e=jQuery("select[name=sfwd-quiz_quiz_pro]").val();if(window["sfwd-quiz_quiz_pro"]!=e){var s=jQuery("#sfwd-quiz_quiz_pro_html").html();s.length>10&&(window["sfwd-quiz_quiz_pro_html"]=s),jQuery("#sfwd-quiz_quiz_pro_html").hide(),jQuery("input[name=disable_advance_quiz_save]").val(1)}else jQuery("#sfwd-quiz_quiz_pro_html").show(),jQuery("input[name=disable_advance_quiz_save]").val(0);e>0?jQuery("#advanced_quiz_preview").attr("href",sfwd_data.advanced_quiz_preview_link+e):jQuery("#advanced_quiz_preview").attr("href","#"),jQuery.fn.wpProQuiz_preview()});jQuery("select[name=sfwd-quiz_quiz_pro]").val();window["sfwd-quiz_quiz_pro"]=sfwd_data.quiz_pro,jQuery("form#post").append("<div id='disable_advance_quiz_save'><input type='hidden' name='disable_advance_quiz_save' value='0'/></div>"),jQuery("select[name=sfwd-quiz_quiz_pro]").change(),jQuery("select[name=sfwd-quiz_course]").change(function(){void 0==window.sfwd_quiz_lesson&&(window.sfwd_quiz_lesson=jQuery("select[name=sfwd-quiz_lesson]").val()),jQuery("select[name=sfwd-quiz_lesson]").html("<option>"+sfwd_data.loading_lang+"</option>");var e={action:"select_a_lesson_or_topic",course_id:jQuery(this).val()};jQuery.post(ajaxurl,e,function(e){window.response=e,html='<option value="0">'+sfwd_data.select_a_lesson_or_topic_lang+"</option>",jQuery.each(e.opt,function(e,s){""!=s.key&&"0"!=s.key&&(selected=s.key==window.sfwd_quiz_lesson?"selected=selected":"",html+="<option value='"+s.key+"' "+selected+">"+s.value+"</option>")}),jQuery("select[name=sfwd-quiz_lesson]").html(html)},"json")}),jQuery("#postimagediv").addClass("hidden_by_sfwd_lms_sfwd_module.js"),jQuery("#postimagediv").hide()}function learndash_topic_edit_page_javascript(){jQuery('[name="sfwd-topic_lesson_assignment_upload"]').change(function(){checked=jQuery("[name=sfwd-topic_lesson_assignment_upload]:checked").length,checked?(jQuery("#sfwd-topic_auto_approve_assignment").show(),jQuery("#sfwd-topic_lesson_assignment_points_enabled").show()):(jQuery("#sfwd-topic_auto_approve_assignment").hide(),jQuery("#sfwd-topic_lesson_assignment_points_enabled").hide(),jQuery("[name='sfwd-topic_lesson_assignment_points_enabled']").prop("checked",!1),jQuery("[name='sfwd-topic_lesson_assignment_points_enabled']").change())}),jQuery("[name='sfwd-topic_lesson_assignment_upload']").length&&jQuery("[name='sfwd-topic_lesson_assignment_upload']").change(),jQuery('[name="sfwd-topic_lesson_assignment_points_enabled"]').change(function(){checked=jQuery("[name=sfwd-topic_lesson_assignment_points_enabled]:checked").length,checked?jQuery("#sfwd-topic_lesson_assignment_points_amount").show():(jQuery("#sfwd-topic_lesson_assignment_points_amount").hide(),jQuery("[name='sfwd-topic_lesson_assignment_points_amount']").val("0"))}),jQuery("[name='sfwd-topic_lesson_assignment_points_enabled']").length&&jQuery("[name='sfwd-topic_lesson_assignment_points_enabled']").change(),jQuery("select[name=sfwd-topic_course]").change(function(){void 0==window.sfwd_topic_lesson&&(window.sfwd_topic_lesson=jQuery("select[name=sfwd-topic_lesson]").val()),jQuery("select[name=sfwd-topic_lesson]").html("<option>"+sfwd_data.loading_lang+"</option>");var e={action:"select_a_lesson",course_id:jQuery(this).val()};jQuery.post(ajaxurl,e,function(e){window.response=e,html='<option value="0">'+sfwd_data.select_a_lesson_lang+"</option>",jQuery.each(e,function(e,s){""!=e&&"0"!=e&&(selected=e==window.sfwd_topic_lesson?"selected=selected":"",html+="<option value='"+e+"' "+selected+">"+s+"</option>")}),jQuery("select[name=sfwd-topic_lesson]").html(html)},"json")})}function flip_expand_collapse(e,s){return jQuery(e+"-"+s+" .list_arrow.flippable").hasClass("expand")?(jQuery(e+"-"+s+" .list_arrow.flippable").removeClass("expand"),jQuery(e+"-"+s+" .list_arrow.flippable").addClass("collapse"),jQuery(e+"-"+s+" .flip").slideUp()):(jQuery(e+"-"+s+" .list_arrow.flippable").removeClass("collapse"),jQuery(e+"-"+s+" .list_arrow.flippable").addClass("expand"),jQuery(e+"-"+s+" .flip").slideDown()),!1}function flip_expand_all(e){return jQuery(e+" .list_arrow.flippable").removeClass("collapse"),jQuery(e+" .list_arrow.flippable").addClass("expand"),jQuery(e+" .flip").slideDown(),!1}function flip_collapse_all(e){return jQuery(e+" .list_arrow.flippable").removeClass("expand"),jQuery(e+" .list_arrow.flippable").addClass("collapse"),jQuery(e+" .flip").slideUp(),!1}function learndash_element_lazy_loader(e,s){var n=jQuery(e).siblings("span.learndash_lazy_loading");"undefined"==typeof spinner&&jQuery(n).show(),"undefined"==typeof s.query_vars.paged&&(s.query_vars.paged=0),s.query_vars.paged=parseInt(s.query_vars.paged)+1;var a={action:"learndash_element_lazy_loader",query_data:s};jQuery.ajax({type:"POST",url:ajaxurl,dataType:"json",cache:!1,data:a,error:function(){},success:function(s){"undefined"==typeof spinner&&jQuery(n).hide(),"undefined"!=typeof s&&"undefined"!=typeof s.html_options&&(""!=s.html_options?(jQuery(e).append(s.html_options),"undefined"!=typeof s.query_data&&""!=s.query_data&&learndash_element_lazy_loader(e,s.query_data)):jQuery(e).attr("data",JSON.stringify(s)))}})}function update_user_course_progess_input(e,s,n){if("undefined"!=typeof s&&""!=s&&"undefined"!=typeof s.user_id&&""!=s.user_id){var a=s.user_id;if("undefined"!=typeof s.course_id&&""!=s.course_id){var t=s.course_id,r=get_user_progress_data(a);if(r!==!1){if("quiz"==e){if("undefined"!=typeof s.quiz_id&&""!=s.quiz_id){var i=s.quiz_id;1==n?r.quiz[i]=1:r.quiz[i]=0}}else{if("undefined"==typeof r.course[t]){var o=get_course_data(t);if(o===!1)return;r.course[t]=o}if("topic"==e){if("undefined"!=typeof s.topic_id&&""!=s.topic_id){var d=s.topic_id;if("undefined"==typeof s.lesson_id||""==s.lesson_id)return;var u=s.lesson_id;1==n?("undefined"!=typeof r.course[t]&&null!=r.course[t]||(r.course[t]={}),"undefined"!=typeof r.course[t].topics&&null!=r.course[t].topics||(r.course[t].topics={}),"undefined"!=typeof r.course[t].topics[u]&&null!=r.course[t].topics[u]||(r.course[t].topics[u]={}),r.course[t].topics[u][d]=1):"undefined"!=typeof r.course[t].topics[u][d]&&(delete r.course[t].topics[u][d],0===Object.keys(r.course[t].topics[u]).length&&delete r.course[t].topics[u])}}else if("lesson"==e){if("undefined"==typeof s.lesson_id||""==s.lesson_id)return;var u=s.lesson_id;1==n?("undefined"!=typeof r.course[t]&&null!=r.course[t]||(r.course[t]={}),"undefined"!=typeof r.course[t].lessons&&null!=r.course[t].lessons||(r.course[t].lessons={}),r.course[t].lessons[u]=1):"undefined"!=typeof r.course[t].lessons[u]&&delete r.course[t].lessons[u]}}set_user_progress_data(a,r)}}}}function get_course_data(e){var s=!1;if(jQuery("#learndash-mark-course-complete-"+e).length){var n=jQuery("#learndash-mark-course-complete-"+e).attr("data-name");"undefined"!=typeof n&&""!=n&&(n=JSON.parse(n),"undefined"!=typeof n.course_data&&(s=n.course_data))}return s}function get_user_progress_data(e){var s=!1;return jQuery("#user-progress-"+e).length&&(s=jQuery("#user-progress-"+e).val(),"undefined"!=typeof s&&""!=s&&(s=JSON.parse(s))),s}function set_user_progress_data(e,s){jQuery("#user-progress-"+e).length&&jQuery("#user-progress-"+e).val(JSON.stringify(s))}function update_parents(e){if("quiz"!=$_click_type&&"topic"!=$_click_type||!e.hasClass("learndash-mark-topic-complete")&&!e.hasClass("learndash-mark-lesson-quiz-complete")){if("quiz"==$_click_type&&e.hasClass("learndash-mark-topic-quiz-complete")){var s=e.parents(".learndash-quiz-list"),n=jQuery(s).prop("id").replace("learndash-quiz-list-","");if("undefined"!=typeof n&&""!=n&&jQuery("#learndash-mark-topic-complete-"+n).length){var a=jQuery("input.learndash-mark-topic-quiz-complete:checkbox",s).length,t=jQuery("input.learndash-mark-topic-quiz-complete:checkbox:checked",s).length,r=!1;parseInt(a)==parseInt(t)&&(r=!0),jQuery("#learndash-mark-topic-complete-"+n).prop("checked",r).triggerHandler("click")}}else if(e.hasClass("learndash-mark-lesson-complete")||e.hasClass("learndash-mark-course-quiz-complete")){var i=e.parents(".course_navigation"),o=jQuery(i).prop("id").replace("course_navigation-","");if("undefined"!=typeof o&&""!=o&&jQuery("#learndash-mark-course-complete-"+o).length){var a=jQuery("input.learndash-mark-lesson-complete:checkbox",i).length+jQuery("input.learndash-mark-course-quiz-complete:checkbox",i).length,t=jQuery("input.learndash-mark-lesson-complete:checkbox:checked",i).length+jQuery("input.learndash-mark-course-quiz-complete:checkbox:checked",i).length,d=!1;parseInt(a)==parseInt(t)&&(d=!0),jQuery("#learndash-mark-course-complete-"+o).prop("checked",d).triggerHandler("click")}}}else{var u=e.parents(".learndash_topic_widget_list"),c=jQuery(u).prop("id").replace("learndash_topic_dots-","");if("undefined"!=typeof c&&""!=c&&jQuery("#learndash-mark-lesson-complete-"+c).length){var a=jQuery("input.learndash-mark-topic-complete:checkbox",u).length+jQuery("input.learndash-mark-lesson-quiz-complete:checkbox",u).length,t=jQuery("input.learndash-mark-topic-complete:checkbox:checked",u).length+jQuery("input.learndash-mark-lesson-quiz-complete:checkbox:checked",u).length,l=!1;parseInt(a)==parseInt(t)&&(l=!0),jQuery("#learndash-mark-lesson-complete-"+c).prop("checked",l).triggerHandler("click")}}}"undefined"!=typeof sfwd_data.json&&(sfwd_data=sfwd_data.json.replace(/&quot;/g,'"'),sfwd_data=jQuery.parseJSON(sfwd_data)),jQuery(".sfwd_datepicker").each(function(){jQuery("#"+jQuery(this).attr("id")).datepicker()}),jQuery(document).ready(function(){"undefined"!=typeof sfwd_data&&"undefined"!=typeof sfwd_data.condshow&&sfwd_do_condshow(sfwd_data.condshow)}),jQuery(document).ready(function(){var e;jQuery(".sfwd_upload_image_button").click(function(){return window.send_to_editor=newSendToEditor,e=jQuery(this).next(),formfield=e.attr("name"),tb_show("","media-upload.php?type=image&amp;TB_iframe=true"),!1}),storeSendToEditor=window.send_to_editor,newSendToEditor=function(s){imgurl=jQuery("img",s).attr("src"),e.val(imgurl),tb_remove(),window.send_to_editor=storeSendToEditor}}),jQuery(document).ready(function(){jQuery(".hndle").mousedown(function(){jQuery(".wrap").mouseup(function(){store_radio(),setTimeout("reclick_radio();",50)})})}),jQuery(document).ready(function(){"undefined"!=typeof sfwd_data.pointers&&jQuery.each(sfwd_data.pointers,function(e,s){"undefined"!==s&&""!=s.pointer_text&&sfwd_show_pointer(e,s)}),jQuery(".sfwd_tab:not(:first)").hide(),jQuery(".sfwd_tab:first").show(),jQuery(".sfwd_header_tabs a").click(function(){return stringref=jQuery(this).attr("href").split("#")[1],jQuery(".sfwd_tab:not(#"+stringref+")").hide(),jQuery(".sfwd_tab#"+stringref).show(),jQuery(".sfwd_header_tab[href!=#"+stringref+"]").removeClass("active"),jQuery(".sfwd_header_tab#[href=#"+stringref+"]").addClass("active"),!1}),jQuery("body.post-type-sfwd-courses #categorydiv > h3 > span, body.post-type-sfwd-lessons #categorydiv > h3 > span, body.post-type-sfwd-topic #categorydiv > h3 > span, body.post-type-sfwd-courses #categorydiv > h3 > span").html(sfwd_data.learndash_categories_lang),jQuery(".sfwd-lessons_settings").length&&learndash_lesson_edit_page_javascript(),jQuery(".sfwd-courses_settings").length&&learndash_course_edit_page_javascript(),jQuery(".sfwd-topic_settings").length&&learndash_topic_edit_page_javascript(),jQuery(".sfwd-quiz_settings").length&&learndash_quiz_edit_page_javascript()}),jQuery(document).ready(function(){jQuery("select[learndash_lazy_load_data]").each(function(){var e=this,s=jQuery(e).attr("learndash_lazy_load_data");"undefined"!=typeof s&&""!=s&&(s=JSON.parse(s),learndash_element_lazy_loader(e,s))})}),jQuery("#course_progress_details a.leandash-profile-couse-details-link").length&&jQuery("#course_progress_details a.leandash-profile-couse-details-link").click(function(){var e=jQuery(this),s=jQuery(e).next();return jQuery(".widget_course_return",s).hide(),jQuery(s).is(":visible")?jQuery(s).slideUp("fast"):jQuery(s).slideDown("slow"),!1});var $_click_type=!1;jQuery("#course_progress_details .leandash-profile-couse-details-container input.learndash-mark-course-complete").length&&jQuery("#course_progress_details .leandash-profile-couse-details-container input.learndash-mark-course-complete").click(function(){var e=jQuery(this),s=e.is(":checked");if(1==s&&0==$_click_type){var n=e.attr("data-title-checked");if("undefined"!=typeof n&&""!=n&&!confirm(n))return!1}if($_click_type===!1&&($_click_type="course"),"course"==$_click_type){var a=e.siblings(".course_navigation");jQuery("input:checkbox",a).length&&jQuery("input:checkbox",a).each(function(){(jQuery(this).hasClass("learndash-mark-lesson-complete")||jQuery(this).hasClass("learndash-mark-course-quiz-complete"))&&jQuery(this).prop("checked",s).triggerHandler("click")})}"course"==$_click_type&&($_click_type=!1)}),jQuery("#course_progress_details .leandash-profile-couse-details-container input.learndash-mark-lesson-complete").length&&jQuery("#course_progress_details .leandash-profile-couse-details-container input.learndash-mark-lesson-complete").click(function(){var e=jQuery(this),s=e.is(":checked");if(1==s&&0==$_click_type){var n=e.attr("data-title-checked");if("undefined"!=typeof n&&""!=n&&!confirm(n))return!1}var a=e.attr("data-name");if("undefined"!=typeof a&&""!=a&&(a=JSON.parse(a),update_user_course_progess_input("lesson",a,s)),$_click_type===!1&&($_click_type="lesson"),"lesson"!=$_click_type&&"topic"!=$_click_type&&"quiz"!=$_click_type||update_parents(e),"lesson"==$_click_type||"course"==$_click_type){var t=e.prop("id").replace("learndash-mark-lesson-complete-","");"undefined"!=typeof t&&""!=t&&jQuery("input:checkbox","#learndash_topic_dots-"+t).length&&jQuery("input:checkbox","#learndash_topic_dots-"+t).each(function(){(jQuery(this).hasClass("learndash-mark-topic-complete")||jQuery(this).hasClass("learndash-mark-lesson-quiz-complete"))&&jQuery(this).prop("checked",s).triggerHandler("click")})}"lesson"==$_click_type&&($_click_type=!1)}),jQuery("#course_progress_details .leandash-profile-couse-details-container input.learndash-mark-topic-complete").length&&jQuery("#course_progress_details .leandash-profile-couse-details-container input.learndash-mark-topic-complete").click(function(){var e=jQuery(this),s=e.is(":checked");if(1==s&&0==$_click_type){var n=e.attr("data-title-checked");if("undefined"!=typeof n&&""!=n&&!confirm(n))return!1}$_click_type===!1&&($_click_type="topic"),"topic"!=$_click_type&&"quiz"!=$_click_type||update_parents(e);var a=e.attr("data-name");if("undefined"!=typeof a&&""!=a&&(a=JSON.parse(a),update_user_course_progess_input("topic",a,s)),"quiz"!=$_click_type){var t=e.prop("id").replace("learndash-mark-topic-complete-","");jQuery("input:checkbox","#learndash-quiz-list-"+t).length&&jQuery("input:checkbox","#learndash-quiz-list-"+t).each(function(){jQuery(this).hasClass("learndash-mark-topic-quiz-complete")&&jQuery(this).prop("checked",s).triggerHandler("click")})}"topic"==$_click_type&&($_click_type=!1)}),jQuery("#course_progress_details .leandash-profile-couse-details-container input.learndash-mark-quiz-complete").length&&jQuery("#course_progress_details .leandash-profile-couse-details-container input.learndash-mark-quiz-complete").click(function(){var e=jQuery(this),s=jQuery(this).is(":checked");$_click_type===!1&&($_click_type="quiz"),"quiz"==$_click_type&&update_parents(e);var n=jQuery(this).attr("data-name");"undefined"!=typeof n&&""!=n&&(n=JSON.parse(n),update_user_course_progess_input("quiz",n,s)),"quiz"==$_click_type&&($_click_type=!1)});